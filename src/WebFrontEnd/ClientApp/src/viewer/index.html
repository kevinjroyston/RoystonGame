<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@3.1.10/dist/browser/signalr.min.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | ScrawlBrawl</title>
    <link rel="shortcut icon" href="/viewer/TemplateData/favicon.ico">
    <link rel="stylesheet" href="/viewer/TemplateData/style.css">
    <script src="/viewer/TemplateData/UnityProgress.js"></script>
    <script src="/viewer/Build/UnityLoader.js"></script>
    <script>
        var resizeSeconds = 15;
        var unityInstance = UnityLoader.instantiate("unityContainer", "/viewer/Build/ScrawlBrawlWebViewer.json", {
            onProgress: UnityProgress
        });

        function timerResize() {
            console.log("timer: " + resizeSeconds)
            onResize();
            if (resizeSeconds > 0) {
                resizeSeconds--;
                setTimeout(timerResize, 1000);
            }
        }

        function onResize() {
            var canvas = unityInstance.Module.canvas;
            var container = unityInstance.container;
            var w = window.innerWidth - 20;
            var h = window.innerHeight - 35;
            var r = 1080 / 1920;
            if (w * r > h) {
                w = Math.min(w,
                    Math.ceil(h / r));
            }
            h = Math.floor(w * r);

            container.style.width = w + "px";
            container.style.height = h + "px";
        }
    </script>
</head>

<body onload="setTimeout(timerResize,1000)" onresize="onResize()">
    <div class="webgl-content">
        <div id="unityContainer" style="width: 960px; height: 540px"></div>
        <div class="footer">
            <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
            <div class="title">Click Here to Make the Viewer Fullscreen</div>
        </div>
    </div>
</body>

</html>